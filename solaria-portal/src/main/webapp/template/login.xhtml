<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta charset="UTF-8" />
	<title>Login de Usuario</title>

	<script>
		function handleLoginRequest(xhr, status, args) {
			if (args.validationFailed || !args.isUsuarioValido) {

				jQuery('.panelLogin').effect("bounce", {
					times : 3
				}, 200);
				document.form_login["form_login:cpoPassword"].value = "";

			} else {
				jQuery('#form_login').fadeOut();
				//window.location.reload( true );
				//window.location = "http://www.page-2.com";
				document.getElementById("form_login:btnModulos").click();
			}
		}
	</script>

	<style>
#contenedor {
	width: 500px;
	margin: 50px auto;
}
</style>

</h:head>
<h:body>


	<h:form id="form_login">

		<div id="contenedor">

			<p:messages id="msgLogin" />

			<p:panelGrid styleClass="panelLogin" columns="2" style="width: 100%;">

				<f:facet name="header">Login</f:facet>

				<h:outputText value="Usuario" />
				<h:inputText id="cpoUserName" styleClass="input-block-level"
					value="#{loginBean.username}" required="true"
					requiredMessage="#{msgs['empty.username']}" />

				<h:outputText value="Password" />
				<h:inputSecret id="cpoPassword" styleClass="input-block-level"
					value="#{loginBean.password}" required="true"
					requiredMessage="#{msgs['empty.password']}" />


				<p:commandLink id="btnModulos" value=""
					action="#{solariaBean.forwardDashboard}" />

				<p:commandButton oncomplete="handleLoginRequest(xhr, status, args)"
					actionListener="#{loginBean.doLogin}" update="msgLogin"
					value="Sign in" />

			</p:panelGrid>

		</div>

	</h:form>


</h:body>
</html>