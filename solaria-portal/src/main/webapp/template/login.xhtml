<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" 
    xmlns:p="http://primefaces.org/ui">
<h:head>
<meta charset="UTF-8" />
<title>Login de Usuario</title>

<link href="#{request.contextPath}/bootstrap/css/bootstrap.min.css"	rel="stylesheet" />
<link href="#{request.contextPath}/bootstrap/css/bootstrap-responsive.min.css"	rel="stylesheet" />

<script type="text/javascript" src="#{request.contextPath}/bootstrap/js/bootstrap.min.js"></script>

<style type="text/css">
body {
	padding-top: 40px;
	padding-bottom: 40px;
	background-color: #f5f5f5;
}

.form-signin {
	max-width: 300px;
	padding: 19px 29px 29px;
	margin: 0 auto 20px;
	background-color: #fff;
	border: 1px solid #e5e5e5;
	-webkit-border-radius: 5px;
	-moz-border-radius: 5px;
	border-radius: 5px;
	-webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, .05);
	-moz-box-shadow: 0 1px 2px rgba(0, 0, 0, .05);
	box-shadow: 0 1px 2px rgba(0, 0, 0, .05);
}

.form-signin .form-signin-heading,.form-signin .checkbox {
	margin-bottom: 10px;
}

.form-signin input[type="text"],.form-signin input[type="password"] {
	font-size: 16px;
	height: auto;
	margin-bottom: 15px;
	padding: 7px 9px;
}
</style>

 <script>
	 $(document).ready(function () {
	 	$(".btn").removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only");
	 	$(".btn span").removeClass("ui-button-text");
	 }); 
 
        function handleLoginRequest(xhr, status, args) {
            if(args.validationFailed || !args.isUsuarioValido) {
            	
                jQuery('#form_login').effect("bounce", { times:3 }, 200);
                document.form_login["form_login:cpoPassword"].value = "";
                
            } else {
                jQuery('#form_login').fadeOut();
                //window.location.reload( true );
                //window.location = "http://www.page-2.com";
                document.getElementById("form_login:btnModulos").click();   
            }
        }
    </script>

</h:head>
<h:body>

	<div class="container">
	
	<h:form id="form_login" styleClass="form-signin">
	
	
			<p:messages id="msgLogin" />

			<h2 class="form-signin-heading">Please sign in</h2>
			<label>User Name</label>
			<h:inputText id="cpoUserName" styleClass="input-block-level" value="#{loginBean.username}"
			 required="true" requiredMessage="#{msgs['empty.username']}" />
			<label>Password</label>
			<h:inputSecret id="cpoPassword" styleClass="input-block-level" value="#{loginBean.password}" 
			 required="true" requiredMessage="#{msgs['empty.password']}" />
			
<!-- 			<label -->
<!-- 				class="checkbox"> <input type="checkbox" -->
<!-- 				value="remember-me" /> Remember me -->
<!-- 			</label> -->
			
			<p:commandButton styleClass="btn btn-info"
			 oncomplete="handleLoginRequest(xhr, status, args)"
			 actionListener="#{loginBean.doLogin}" update="msgLogin" value="Sign in" />
			 
			<p:commandLink id="btnModulos" value="" action="#{solariaBean.forwardDashboard}" />
			
	</h:form>

	</div>
	<!-- /container -->

</h:body>
</html>